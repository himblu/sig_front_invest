<div class="row animated fadeIn fast" *ngIf="charging">
  <div class="col-md-12">
    <div class="alert alert-info text-center">
      <h4 class="alert-heading">Cargando</h4>
      <i class="fa fa-spin fa-refresh fa-3x"></i>
      <p class="mb-0">Por favor esperar...</p>
    </div>
  </div>
</div>

<div class="row animated fadeIn fast" *ngIf="!charging">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="filtersForm">
          <div class="row pl-3 pr-3">
            <div class="col-4">
              <mat-form-field appearance="outline">
                <mat-label>Buscar por nombre o cédula</mat-label>
                <input matInput formControlName="search" autocomplete="off" (keyup)="getMenus()">
                <mat-icon matSuffix>search</mat-icon>
              </mat-form-field>
            </div>
          </div>
        </form>
        <div class="table-responsive">
          <table class="table">
            <thead style="background-color: #004899; color: white;">
              <th>Nombre</th>
              <th>Usuario</th>
              <th>Menús</th>
              <th style="text-align: center;">Acciones</th>
            </thead>
            <tr *ngFor="let item of menuList; let i = index" style="color: black;">
              <td>{{item.PersonFullName}}</td>
              <td>{{item.userName}}</td>
              <td>
                <p *ngFor="let menu of loadMenus(item)">{{menu.menuName}}</p>
              </td>
              <td style="text-align: center; cursor: pointer;">
                <p *ngFor="let menu of loadMenus(item)" (click)="changeState(menu, item)">
                  <a type="button"
                    matTooltipPosition="above"
                    matTooltip="Activar"
                    style="cursor: pointer; color: red;" *ngIf="menu.statusID === 0"><i class="fa fa-toggle-off" aria-hidden="true"></i>
                </a>
                <a type="button"
                    matTooltipPosition="above"
                    matTooltip="Inactivar"
                    style="cursor: pointer; color: blue;" *ngIf="menu.statusID === 1"><i class="fa fa-toggle-on" aria-hidden="true"></i>
                </a>
                </p>
              </td>
            </tr>
          </table>
        </div>
        <components-button-arrow [actual]="actualMenus" [totalPage]="totalPageMenus" [count]="countMenus" (result)="changePageMenus($event)"></components-button-arrow>
      </div>
    </div>
  </div>
</div>
