<div style="display: flex; justify-content: end; align-items: center; background: #27a8db;" class="p-2 mb-3">
  <mat-icon style="cursor: pointer;" [matDialogClose]="false" class="white-icon" matRipple>close</mat-icon>
</div>

<mat-dialog-content>
  <form [formGroup]="form">
    <div class="row pt-3">
      <div class="col-6">
        <mat-card>
          <mat-calendar
            #calendar
            [selected]="selectedDateRange"
            [dateFilter]="dateFilter"
            (selectedChange)="onChangeCalendar($event)"
            [minDate]="minDate"
            [maxDate]="maxDate"
            [startAt]="startAt">
          </mat-calendar>
        </mat-card>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-12">
            <mat-form-field appearance="outline">
              <mat-label>Periodo</mat-label>
              <mat-select formControlName="periodID">
                <mat-option (onSelectionChange)="onChangePeriod($event, period);" *ngFor="let period of periods; trackBy: trackByPeriodId" [value]="period.periodID">
                  {{ period.periodName }} | {{ period.periodDateStart | date: 'longDate' }} - {{ period.periodDateEnd | date: 'longDate' }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.hasError('required', 'periodID');">Este campo es requerido</mat-error>
            </mat-form-field>
          </div>
          <div class="col-12">
            <mat-form-field appearance="outline">
              <mat-label>Calendario</mat-label>
              <mat-select formControlName="settingEventID">
                <mat-option *ngFor="let eventSetting of customSettingEvents; trackBy: trackByEventSettingId" [value]="eventSetting.settingEventID">
                  {{ eventSetting.modalityName }} | {{ eventSetting.hoursClass }} horas
                </mat-option>
              </mat-select>
              <mat-error *ngIf="form.hasError('required', 'settingEventID');">Este campo es requerido</mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <div>
  </div>
  <div>
    <button mat-raised-button color="primary" (click)="sendForm()">
      {{ data?.event ? 'Guardar ' : 'Crear ' }} Evento
      <!--        <mat-icon class="ml-2">-->
      <!--          <mat-spinner diameter="20"></mat-spinner>-->
      <!--        </mat-icon>-->
    </button>
  </div>
</mat-dialog-actions>
